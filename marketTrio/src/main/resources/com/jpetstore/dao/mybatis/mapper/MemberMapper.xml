<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.jpetstore.dao.mybatis.mapper.MemberMapper">
  <cache />

  <select id="getMemberById" resultType="Member">
    SELECT Member.ID,
          Member.PASSWORD,
          Member.NICKNAME,
          Member.PROFILEPICTURE,
          Member.RATING
    FROM Member
    WHERE Member.ID = #{id}
  </select>

  <select id="getMemberByIdAndPassword" resultType="Member">
    SELECT Member.ID,
          Member.PASSWORD,
          Member.NICKNAME,
          Member.PROFILEPICTURE,
          Member.RATING
    FROM Member
    WHERE Member.ID = #{param1}
      AND Member.PASSWORD = #{param2}
  </select>
  
  <select id="getNicknameById" resultType="java.lang.String">
    SELECT Member.NICKNAME
    FROM Member
    WHERE Member.ID = #{id}
  </select>

  <select id="getNicknameList" resultType="java.lang.String">
    SELECT NICKNAME AS VALUE FROM MEMBER
  </select>
  
   <insert id="insertMember" parameterType="Member">
    INSERT INTO Member
      (PASSWORD, NICKNAME, PROFILEPICTURE, RATING)
    VALUES
      (#{password}, #{nickname}, #{profilePicture}, #{rating})
  </insert>

  <update id="updateMember" parameterType="Member">
    UPDATE Member SET
      PASSWORD = #{password},
      NICKNAME = #{nickname},
      PROFILEPICTURE = #{profilePicture},
      RATING = #{rating}
    WHERE ID = #{id}
  </update>
  
  <delete id="deleteMember" parameterType="java.lang.String">
    DELETE FROM Member
        WHERE ID = #{memberId}
  </delete>
</mapper>